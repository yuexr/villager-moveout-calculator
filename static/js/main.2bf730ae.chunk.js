(this["webpackJsonpvillager-moveout-calculator"]=this["webpackJsonpvillager-moveout-calculator"]||[]).push([[0],{46:function(e,t,a){e.exports=a.p+"static/media/header.d81268f1.png"},56:function(e,t,a){e.exports=a(73)},61:function(e,t,a){},63:function(e,t,a){},64:function(e,t,a){},65:function(e,t,a){},66:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(8),i=a.n(r),c=a(36),o=a(112),s=(a(61),Object(n.createContext)({residents:void 0,setResidents:function(){throw new Error("setResidents() not implemented")}})),u=Object(n.createContext)({villagers:void 0,setVillagers:function(){throw new Error("setVillagers() not implemented")}}),m=Object(n.createContext)({exclusions:void 0,setExclusions:function(){throw new Error("setExclusions() not implemented")}}),d=a(13),v=a(18),g=a(11),E=function(e){var t=e.residentName,a=e.friendshipLevel,n=e.onChange;return l.a.createElement("div",{className:"ResidentFriendshipField"},l.a.createElement("div",null,t),l.a.createElement("div",null,"LEVEL: ",a||"?"),l.a.createElement("input",{type:"range",min:"0",max:"6",value:a,onChange:n}))},h=a(20),f=function(e,t){return e===t.lastVillagerToMoveIn||e===t.lastVillagerToStay||e===t.villagerRelocating||~t.villagersWithUpcomingBirthday.indexOf(e)},p=function(e){var t=e.villager,a=e.villagerIndex,r=e.moveOutChanceA,i=e.moveOutChanceB,c=Object(n.useContext)(s).residents,o=Object(n.useContext)(u),d=o.villagers,h=o.setVillagers,p=Object(n.useContext)(m).exclusions,b=f(a,p);return l.a.createElement("div",{className:"VillagerChanceField"},l.a.createElement("h3",null,t.name),b?l.a.createElement("p",null,"Cannot ask to move"):l.a.createElement(l.a.Fragment,null,l.a.createElement("h4",null,"Friendship with residents:"),t.friendshipLevels.map((function(e,t){var n=c[t];return l.a.createElement(E,{key:n.id,residentName:n.name,friendshipLevel:e,onChange:function(e){return function(e,t,a){var n=Object(g.a)(d[e].friendshipLevels);n[t]=a,h([].concat(Object(g.a)(d.slice(0,e)),[Object(v.a)({},d[e],{friendshipLevels:n})],Object(g.a)(d.slice(e+1))))}(a,t,parseInt(e.target.value))}})}))),l.a.createElement("div",null,"Ask Chance: ".concat(b?"0%":Math.min(r,i)+" % - "+Math.max(r,i)+"%")))},b=function(){var e=Object(n.useContext)(u).villagers,t=function(e,t){var a=[0,0,30,60,100,150,200],n=[255,29,59,99,149,199,255],l=e.map((function(e,n){if(f(n,t))return 0;var l=e.friendshipLevels.map((function(e){return a[e]})),r=Object(h.mean)(l),i=Object(h.sumBy)(e.friendshipLevels,(function(e){return 6===e?1:0}));return Math.floor((300-r)/10)-i})),r=e.map((function(e,a){if(f(a,t))return 0;var l=e.friendshipLevels.map((function(e){return n[e]})),r=Object(h.mean)(l),i=Object(h.sumBy)(e.friendshipLevels,(function(e){return 6===e?1:0}));return Math.floor((300-r)/10)-i}));return[l.map((function(e){return(e/Object(h.sum)(l)*100).toFixed(2)})),r.map((function(e){return(e/Object(h.sum)(r)*100).toFixed(2)}))]}(e,Object(n.useContext)(m).exclusions),a=Object(d.a)(t,2),r=a[0],i=a[1];return l.a.createElement("div",{className:"VillagersChanceContainer"},l.a.createElement("h2",null,"Move Out Chance"),e.map((function(e,t){return l.a.createElement(p,{key:e.id,villager:e,villagerIndex:t,moveOutChanceA:r[t],moveOutChanceB:i[t]})})))},O=function(){var e=Object(n.useContext)(u).villagers,t=Object(n.useContext)(m),a=t.exclusions,r=t.setExclusions,i=a.lastVillagerToMoveIn,c=a.lastVillagerToStay,o=a.villagerRelocating,s=a.villagersWithUpcomingBirthday,d=function(e,t){var n=Object(v.a)({},a),l=e.target.value;n[t]=l?parseInt(e.target.value):l,r(n)};return l.a.createElement("div",null,l.a.createElement("h2",null,"Add Exclusions"),l.a.createElement("div",null,"Last to move in:\xa0",l.a.createElement("select",{value:""===i?"":i.toString(),onChange:function(e){return d(e,"lastVillagerToMoveIn")}},l.a.createElement("option",{value:""},"n/a"),e.map((function(e,t){return l.a.createElement("option",{key:e.id,value:t.toString()},e.name)})))),l.a.createElement("div",null,"Last to ask to move out:\xa0",l.a.createElement("select",{value:""===c?"":c.toString(),onChange:function(e){return d(e,"lastVillagerToStay")}},l.a.createElement("option",{value:""},"n/a"),e.map((function(e,t){return l.a.createElement("option",{key:e.id,value:t.toString()},e.name)})))),l.a.createElement("div",null,"Villager currently relocating house:\xa0",l.a.createElement("select",{value:""===o?"":o.toString(),onChange:function(e){return d(e,"villagerRelocating")}},l.a.createElement("option",{value:""},"n/a"),e.map((function(e,t){return l.a.createElement("option",{key:e.id,value:t.toString()},e.name)})))),l.a.createElement("div",null,"Villagers whose birthday is in the next 7 days:\xa0",s.map((function(t,n){return l.a.createElement("div",null,l.a.createElement("select",{value:""===t?"":t.toString(),onChange:function(e){return function(e,t){var n=e.target.value,l=Object(v.a)({},a,{villagersWithUpcomingBirthday:[].concat(Object(g.a)(s.slice(0,t)),[n?parseInt(e.target.value):n],Object(g.a)(s.slice(t+1)))});r(l)}(e,n)}},l.a.createElement("option",{value:""},"n/a"),e.map((function(e,t){return l.a.createElement("option",{key:e.id,value:t.toString()},e.name)}))))})),s.length<e.length&&l.a.createElement("button",{onClick:function(){var e=Object(v.a)({},a,{villagersWithUpcomingBirthday:[].concat(Object(g.a)(s),[""])});r(e)}},"+ ADD MORE"),s.length>1&&l.a.createElement("button",{onClick:function(){var e=Object(v.a)({},a,{villagersWithUpcomingBirthday:s.slice(0,s.length-1)});r(e)}},"- REMOVE")))},j=(a(63),a(46)),C=a.n(j),x=function(){return l.a.createElement("div",{className:"Header"},l.a.createElement("img",{className:"Header__image",src:C.a,alt:"banner"}),l.a.createElement("div",{className:"Header__navbar"}))},V=a(108),N=(a(64),a(23)),y=a(14),L=(a(65),a(66),a(109)),I=a(4),w=Object(I.a)({root:{"& label.Mui-focused":{color:"#FFA5B6"},"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"#FFA5B6"},"&:hover fieldset":{borderColor:"#FFA5B6"},"&.Mui-focused fieldset":{borderColor:"#FFA5B6"}}}})(L.a),S=function(e){var t=e.name,a=e.index,n=e.onChange;return l.a.createElement("div",{className:"ResidentNameField"},l.a.createElement("div",{className:"ResidentNameField__name"},"RESIDENT #".concat(a+1," ")),l.a.createElement(w,{variant:"outlined",size:"small",value:t,onChange:n}))},M=a(27),k=a.n(M),R=a(28),F=(a(70),a(111)),B=Object(I.a)((function(){return{arrow:{color:"rgba(119, 154, 126, 0.8)"},tooltip:{backgroundColor:"rgba(119, 154, 126, 0.8)",fontFamily:["Nubito","sans-serif"],fontSize:14,fontWeight:400,padding:8}}}))(F.a),_=function(e){var t=e.value,a=e.minValue,n=void 0===a?1:a,r=e.maxValue,i=void 0===r?99:r,c=e.onDecrease,o=e.onIncrease;return l.a.createElement("div",{className:"NumberSelector"},t===n?l.a.createElement(B,{title:"MINIMUM ".concat(n),placement:"top",arrow:!0},l.a.createElement("button",{className:"minus-button",disabled:!0},l.a.createElement(k.a,{path:R.a,size:"18px"}))):l.a.createElement("button",{className:"minus-button",onClick:c},l.a.createElement(k.a,{path:R.a,size:"18px"})),l.a.createElement("div",{className:"NumberSelector__value"},t),t===i?l.a.createElement(B,{title:"MAXIMUM ".concat(i),placement:"top",arrow:!0},l.a.createElement("button",{className:"plus-button",disabled:!0},l.a.createElement(k.a,{path:R.b,size:"18px"}))):l.a.createElement("button",{className:"plus-button",onClick:o},l.a.createElement(k.a,{path:R.b,size:"18px"})))},A=function(){var e=Object(n.useContext)(s),t=e.residents,a=e.setResidents,r=Object(n.useContext)(u),i=r.villagers,c=r.setVillagers;return l.a.createElement("div",{className:"ResidentsInputContainer"},l.a.createElement("h3",null,"RESIDENTS"),l.a.createElement("h4",null,"How many residents (switch players) live on your island?"),l.a.createElement("div",{className:"text-note"},"Villager move-out chance considers friendship with ALL players."),l.a.createElement(_,{value:t.length,minValue:1,maxValue:8,onDecrease:function(){a(t.slice(0,t.length-1)),c(i.map((function(e){return Object(N.a)({},e,{friendshipLevels:e.friendshipLevels.slice(0,e.friendshipLevels.length-1)})})))},onIncrease:function(){a([].concat(Object(y.a)(t),[{id:Object(o.a)(),name:"Resident ".concat(t.length+1)}])),c(i.map((function(e){return Object(N.a)({},e,{friendshipLevels:[].concat(Object(y.a)(e.friendshipLevels),[0])})})))}}),l.a.createElement("h4",null,"Enter your residents' names below:"),l.a.createElement("div",{className:"ResidentsInputContainer__fields"},t.map((function(e,n){return l.a.createElement(S,{key:e.id,name:e.name,index:n,onChange:function(e){return l=n,r=e.target.value,void a([].concat(Object(y.a)(t.slice(0,l)),[Object(N.a)({},t[l],{name:r})],Object(y.a)(t.slice(l+1))));var l,r}})}))))},T=(a(71),a(72),function(e){var t=e.name,a=e.villagerIndex,n=e.onChange;return l.a.createElement("div",{className:"VillagerNameField"},l.a.createElement("div",{className:"VillagerNameField__name"},"VILLAGER #".concat(a+1," ")),l.a.createElement(w,{variant:"outlined",size:"small",value:t,onChange:n}))}),W=function(){var e=Object(n.useContext)(u),t=e.villagers,a=e.setVillagers,r=Object(n.useContext)(s).residents;return l.a.createElement("div",{className:"VillagersInputContainer"},l.a.createElement("h3",null,"VILLAGERS"),l.a.createElement("h4",null,"How many villagers (animals) live on your island?"),l.a.createElement("div",{className:"text-note"},"You need 6 or more villagers for one to ask to move."),l.a.createElement(_,{value:t.length,minValue:6,maxValue:10,onDecrease:function(){return a(t.slice(0,t.length-1))},onIncrease:function(){a([].concat(Object(y.a)(t),[{id:Object(o.a)(),name:"Villager ".concat(t.length+1),friendshipLevels:r.map((function(){return 0}))}]))}}),l.a.createElement("h4",null,"Enter your villagers\u2019 names below:"),l.a.createElement("div",{className:"VillagersInputContainer__fields"},t.map((function(e,n){return l.a.createElement(T,{key:e.id,name:e.name,villagerIndex:n,onChange:function(e){return l=n,r=e.target.value,void a([].concat(Object(y.a)(t.slice(0,l)),[Object(N.a)({},t[l],{name:r})],Object(y.a)(t.slice(l+1))));var l,r}})}))))},U=function(){return l.a.createElement("div",{className:"IslandersContainer"},l.a.createElement("h2",null,"Step 1: add island villagers and residents"),l.a.createElement(V.a,{container:!0},l.a.createElement(V.a,{item:!0,sm:12,md:6},l.a.createElement(W,null)),l.a.createElement(V.a,{item:!0,sm:12,md:6},l.a.createElement(A,null))))},z=function(){var e=Object(n.useState)([{id:Object(o.a)(),name:"Resident 1"}]),t=Object(c.a)(e,2),a=t[0],r=t[1],i=Object(n.useState)([{id:Object(o.a)(),name:"Villager 1",friendshipLevels:[0]},{id:Object(o.a)(),name:"Villager 2",friendshipLevels:[0]},{id:Object(o.a)(),name:"Villager 3",friendshipLevels:[0]},{id:Object(o.a)(),name:"Villager 4",friendshipLevels:[0]},{id:Object(o.a)(),name:"Villager 5",friendshipLevels:[0]},{id:Object(o.a)(),name:"Villager 6",friendshipLevels:[0]}]),d=Object(c.a)(i,2),v=d[0],g=d[1],E=Object(n.useState)({lastVillagerToMoveIn:"",lastVillagerToStay:"",villagerRelocating:"",villagersWithUpcomingBirthday:[""]}),h=Object(c.a)(E,2),f=h[0],p=h[1];return l.a.createElement(s.Provider,{value:{residents:a,setResidents:r}},l.a.createElement(u.Provider,{value:{villagers:v,setVillagers:g}},l.a.createElement(m.Provider,{value:{exclusions:f,setExclusions:p}},l.a.createElement("div",{className:"App"},l.a.createElement(x,null),l.a.createElement("div",{className:"App__content"},l.a.createElement("h1",null,"Move-Out Calculator"),l.a.createElement(U,null),l.a.createElement(O,null),l.a.createElement(b,null))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(z,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[56,1,2]]]);
//# sourceMappingURL=main.2bf730ae.chunk.js.map